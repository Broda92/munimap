<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">

  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta name="description" content=""/>
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <meta http-equiv="cache-control" content="no-cache" />
    
    <link href="../munimap.css" media="all" rel="stylesheet" type="text/css" />
    <link href="doc.css" media="all" rel="stylesheet" type="text/css" />
    
    <script id="cookie1" type="text/javascript" src="https://cdn.muni.cz/mvcscripts/libs/cookiebar/1.0/cookie1.js"></script>
    
    <title>munimap - popis rozhraní</title>

  </head>

  <body>
    <div class="header">
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="205px" height="140px" viewBox="0 0 205 140" enable-background="new 0 0 205 140" xml:space="preserve">
        <desc>Masarykova univerzita</desc>
        <rect fill="#002776" width="55.201" height="138"></rect>
        <path fill="#FFFFFF" d="M43.215,78.802c-1.606,0-2.909,1.282-2.909,2.866v25.955c0,2.356-0.872,4.476-2.365,6.19V81.62
						        c0-1.387-1.034-2.564-2.427-2.757c-1.386-0.202-2.774,0.604-3.11,1.976c-4.758,19.281-4.801,19.435-4.801,19.435
						        s-0.032-0.153-4.811-19.438c-0.342-1.367-1.717-2.174-3.106-1.972c-1.394,0.192-2.422,1.37-2.422,2.757v32.193
						        c-1.496-1.715-2.377-3.834-2.377-6.19V81.668c0-1.584-1.3-2.866-2.903-2.866c-1.607,0-2.783,1.282-2.783,2.866v25.955
						        c0,9.132,8.121,15.516,18.399,15.516c10.28,0,18.4-6.384,18.4-15.516V81.668C45.999,80.084,44.818,78.802,43.215,78.802
						         M22.665,117.322v-16.401c0.013,0.07,0.235,1.045,3.365,13.099c0.153,0.572,0.632,1.201,1.579,1.201
						        c0.979,0,1.407-0.551,1.581-1.201c0.96-3.723,3.341-13.053,3.341-13.053v16.355c-1.518,0.507-3.175,0.786-4.932,0.786
						        C25.847,118.108,24.181,117.829,22.665,117.322"></path>
        <polygon fill="#002776" points="75.86,79.087 78.409,79.087 81.679,89.853 81.718,89.853 85.455,79.087 88.004,79.087
						        89.989,92.558 87.459,92.83 86.447,82.203 86.408,82.203 82.984,92.558 80.413,92.558 77.318,82.203 77.28,82.203 75.879,92.83
						        73.485,92.558 "></polygon>
        <path fill="#002776" d="M97.793,81.697h-0.038l-1.694,5.255h3.289L97.793,81.697z M93.823,92.83l-2.315-0.701l5.177-13.042h2.296
						        l4.809,13.042l-2.432,0.701l-1.325-3.854h-4.689L93.823,92.83z"></path>
        <path fill="#002776" d="M108.865,92.83c-1.32,0-2.51-0.351-3.658-1.033l0.974-1.907c0.62,0.45,1.613,0.916,2.374,0.916
						        c1.401,0,2.161-0.854,2.161-1.945c0-2.667-5.53-1.557-5.53-6.133c0-2.197,1.792-3.913,4.497-3.913c1.344,0,2.629,0.451,3.795,1.13
						        l-1.05,1.79c-0.837-0.445-1.56-0.895-2.551-0.895c-1.147,0-2.197,0.621-2.197,1.812c0,2.628,5.644,1.811,5.644,6.11
						        C113.323,91.06,111.455,92.83,108.865,92.83"></path>
        <path fill="#002776" d="M120.634,81.697h-0.038l-1.694,5.255h3.289L120.634,81.697z M116.664,92.83l-2.314-0.701l5.175-13.042h2.296
						        l4.811,13.042l-2.436,0.701l-1.322-3.854h-4.689L116.664,92.83z"></path>
        <path fill="#002776" d="M132.563,85.141c0.722,0,2.217-0.308,2.217-2.081c0-1.302-1.012-1.944-2.276-1.944h-1.44l-0.038,4.025
						        H132.563z M131.764,87.166h-0.778l-0.021,5.392h-2.55l0.137-13.471h4.263c3.271,0,4.573,1.773,4.573,3.893
						        c0,1.716-1.03,2.94-2.607,3.506l3.835,5.022l-2.219,1.322l-3.737-5.198C132.444,87.324,132.133,87.166,131.764,87.166"></path>
        <polygon fill="#002776" points="143.099,86.97 138.641,80.103 140.919,78.816 144.44,84.578 148.101,78.816 150.297,80.08
						        145.704,86.895 145.628,92.557 143.02,92.557 "></polygon>
        <polygon fill="#002776" points="152.017,79.087 154.51,79.087 154.471,85.377 154.568,85.377 160.075,78.814 161.925,80.295
						        157.118,85.609 161.865,91.389 159.843,92.83 154.51,86.058 154.471,86.058 154.412,92.558 151.922,92.558 "></polygon>
        <path fill="#002776" d="M165.309,85.822c0,2.94,1.827,4.983,4.611,4.983c2.783,0,4.612-2.315,4.612-4.983
						        c0-2.861-1.829-4.979-4.612-4.979C167.664,80.843,165.309,82.707,165.309,85.822 M162.699,85.822c0-3.93,3.21-7.006,7.221-7.006
						        c4.359,0,7.221,3.076,7.221,7.006c0,3.931-3.135,7.007-7.221,7.007C165.833,92.829,162.699,89.929,162.699,85.822"></path>
        <polygon fill="#002776" points="177.819,79.613 180.329,78.814 183.775,89.404 183.813,89.404 187.688,78.814 190.1,79.613
						        184.963,92.558 182.627,92.558 "></polygon>
        <path fill="#002776" d="M195.994,81.697h-0.04l-1.693,5.255h3.292L195.994,81.697z M192.023,92.83l-2.316-0.701l5.179-13.042h2.296
						        l4.807,13.042l-2.431,0.701l-1.324-3.854h-4.691L192.023,92.83z"></path>
        <path fill="#002776" d="M79.493,113.408c1.965,0,2.998-1.285,3.017-3.136l0.078-8.464h2.491L85,110.409
						        c-0.059,3.309-2.335,5.139-5.547,5.139c-3.193,0-5.43-1.768-5.43-5.275c0-2.821,0.058-5.642,0.078-8.464h2.491
						        c-0.02,2.878-0.078,5.722-0.078,8.601C76.515,112.298,77.837,113.408,79.493,113.408"></path>
        <polygon fill="#002776" points="88.227,102.235 90.542,101.535 96.83,111.854 96.869,111.854 96.712,101.808 99.204,101.808
						        99.086,114.847 96.576,115.551 90.446,105.29 90.406,105.331 90.602,115.277 88.111,115.277 "></polygon>
        <polygon fill="#002776" points="102.394,101.808 104.884,101.808 104.768,115.277 102.275,115.277 "></polygon>
        <polygon fill="#002776" points="106.599,102.332 109.109,101.535 112.556,112.123 112.593,112.123 116.467,101.535 118.879,102.332
						        113.741,115.277 111.403,115.277 "></polygon>
        <polygon fill="#002776" points="127.937,115.277 120.601,115.277 120.737,101.808 127.937,101.808 127.937,103.95 123.227,103.95
						        123.188,107.413 127.86,107.413 127.86,109.437 123.169,109.437 123.146,113.137 127.937,113.137 "></polygon>
        <path fill="#002776" d="M134.794,107.86c0.721,0,2.216-0.309,2.216-2.081c0-1.303-1.01-1.946-2.275-1.946h-1.441l-0.039,4.027
						        H134.794z M133.993,109.886h-0.776l-0.021,5.392h-2.55l0.137-13.47h4.263c3.271,0,4.574,1.771,4.574,3.891
						        c0,1.717-1.03,2.941-2.609,3.506l3.836,5.022l-2.219,1.324l-3.737-5.199C134.677,110.043,134.364,109.886,133.993,109.886"></path>
        <polygon fill="#002776" points="151.372,115.277 142.849,115.277 142.069,113.682 148.511,103.95 142.38,103.95 142.38,101.808
						        150.905,101.808 151.685,103.599 145.358,113.137 151.372,113.137 "></polygon>
        <polygon fill="#002776" points="153.876,101.808 156.365,101.808 156.249,115.277 153.758,115.277 "></polygon>
        <polygon fill="#002776" points="161.888,103.949 158.11,103.949 158.13,101.809 168.117,101.809 168.098,103.949 164.381,103.949
						        164.28,115.274 161.79,115.274 "></polygon>
        <path fill="#002776" d="M173.728,104.416h-0.041l-1.694,5.253h3.292L173.728,104.416z M169.755,115.551l-2.316-0.704l5.179-13.039
					        h2.294l4.81,13.039l-2.433,0.704l-1.322-3.855h-4.692L169.755,115.551z"></path>
      </svg>
    </div>
    <h1><a href="../"><span class="munimap-logo"><span class="muni">muni</span><span class="map">map</span></span></a> - popis rozhraní</h1>
    <div class="navigation top">
      <div>
        <a href="../"><span class="munimap-logo"><span class="muni">muni</span><span class="map">map</span></span></a> &gt; <span>popis rozhraní</span>
      </div>
    </div>
    <div class="content">
      <p class="ga"><span class="ga-alert">Upozornění</span> Knihovna munimap využívá službu Google Analytics, poskytovanou společností Google. 
        Pro použítí knihovny je třeba na Vašich stránkách přidat upozornění pro uživatele, že stránky využívají soubory cookies. Cookies upozornění můžete přidat pomocí skriptu,
        který naleznete například <a href="https://webcentrum.muni.cz/functions/cookies">zde</a>.</p>
      <p>Pro formální popis rozhraní používáme <a href="https://github.com/google/closure-compiler/wiki/Annotating-JavaScript-for-the-Closure-Compiler#type-expressions">javascriptovou anotaci pro Closure Compiler</a>.</p>
      <ul>
        <li><a href="#create">funkce munimap.create</a></li>
        <li><a href="#reset">funkce munimap.reset</a></li>
      </ul>
      <h2 id="create">Funkce munimap.create</h2>
      <p>Vytvoří mapu do zadaného elementu a vykreslí ji dle zadaných parametrů.</p>
      <h3>Specifikace</h3>
      <p class="specification">munimap.create(options: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>): <a href="https://google.github.io/closure-library/api/goog.Promise.html" target="_blank">goog.Promise</a>&lt;<a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.Map.html" target="_blank">ol.Map</a>&gt;</p>
      <h3>Vstup</h3>
      <p>Objekt definující požadované vlastnosti vytvářené mapy pomocí těchto parametrů:</p>
      <table>
        <tr>
          <th class="param-name">Název parametru</th>
          <th class="param-type">Typ</th>
          <th class="param-desc">Popis</th>
        </tr>
        <tr id="target">
          <td class="param-name"><b>target</b></td>
          <td class="param-type">string | <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element" target="_blank">Element</a></td>
          <td class="param-desc">
            <ul>
              <li>id elementu nebo element, do kterého se vloží mapové okno</li>
              <li>parametr je <span class="mandatory">povinný</span></li>
            </ul>
          </td>
        </tr>
        <tr id="markers">
          <td class="param-name">markers</td>
          <td class="param-type">Array.&lt;string&gt; | undefined</td>
          <td class="param-desc">
            <ul>
              <li>pole polohových kódů budov, nebo polohových kódů místností, které mají být v mapě zvýrazněny</li>
              <li>v polohových kódech je možné využít zástupného znaku '_'</li>
              <li>není-li parametr zadán, nic se v mapě nezvýrazní</li>
            </ul>
            <div class="hint">
              <p>pro zjištění polohových kódů budov či místností lze použít aplikaci <a href='https://kompas.muni.cz/'>Kompas</a></p>
            </div>
          </td>
        </tr>
        <tr id="markerLabel">
          <td class="param-name">markerLabel</td>
          <td class="param-type">function((<a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.Feature.html" target="_blank">ol.Feature</a> | <a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.render.Feature.html" target="_blank">ol.render.Feature</a>), number): (string | null | undefined) | undefined</td>
          <td class="param-desc">
            <ul>
              <li>funkce pro úpravu textu popisků zvýrazněných budov či místností</li>
              <li>první parametr je objekt, pro který funkce vrací popisek, druhý parametr je <a href='http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.View.html'>rozlišení mapy (resolution)</a>; aplikace tedy může ukazovat různé popisky jednoho objektu pro různé úrovně přiblížení</li>
              <li>není-li funkce zadána, zobrazí se stejný text popisku jako v případě, kdy budova či místnost nejsou označeny</li>
            </ul>
            <div class="hint">
              <p>pro rozlišení jednotlivých zvýrazněných budov či místností lze využít jejich polohový kód, který ve funkci získáte pomocí <span class="command">feature.get(<span class="value">'polohKod'</span>)</span></p>
            </div>
            <div class="experimental">
              <p>experimentální funkcionalita</p>
            </div>
          </td>
        </tr>
        <tr id="zoomTo">
          <td class="param-name">zoomTo</td>
          <td class="param-type">Array.&lt;string&gt; | string | undefined</td>
          <td class="param-desc">
            <ul>
              <li>pole polohových kódů budov, nebo polohových kódů místností, na které se má mapa zazoomovat</li>
              <li>v polohových kódech je možné využít zástupného znaku '_'</li>
              <li>není-li parametr zadán a současně je zadán parametr markers, převezme hodnotu tohoto parametru</li>
              <li>není povoleno použítí parametru zároveň s parametrem <code><a href="../doc/#center">center</a></code></li>                            
            </ul>
            <div class="hint">
              <p>pro zjištění polohových kódů budov či místností lze použít aplikaci <a href='https://kompas.muni.cz/'>Kompas</a></p>
            </div>
          </td>
        </tr>
        <tr id="zoom">
          <td class="param-name">zoom</td>
          <td class="param-type">number | undefined</td>
          <td class="param-desc">
            <ul>
              <li>výchozí zoom mapy</li>
              <li>není-li parametr zadán, je dopočítán podle zoomTo, případně se zobrazí celé Brno</li>
              <li>je akceptováno celé kladné číslo v rozsahu 0 až 23, kdy 0 je pohled na celý svět a 23 je největší povolený zoom</li>
            </ul>
            <div class="hint">              
              <p>zoom 13 odpovídá pohledu na celé Brno</p>
            </div>              
          </td>
        </tr>
        <tr id="center">
          <td class="param-name">center</td>
          <td class="param-type"><a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.html#.Coordinate" target="_blank">ol.Coordinate</a> | undefined</td>
          <td class="param-desc">
            <ul>
              <li>výchozí střed mapy v zeměpisné šířce a délce (<a href="http://spatialreference.org/ref/epsg/wgs-84/" target="_blank">EPSG:4326</a>)</li>
              <li>není-li parametr zadán, je dopočítán podle zoomTo, případně se zobrazí celé Brno</li>
              <li>není povoleno použítí parametru zároveň s parametrem <code><a href="../doc/#zoomTo">zoomTo</a></code></li>                            
            </ul>
          </td>
        </tr>
        <tr id="lang">
          <td class="param-name">lang</td>
          <td class="param-type">string | undefined</td>
          <td class="param-desc">
            <ul>
              <li>jazyk</li>
              <li>možné hodnoty jsou 'cs' a 'en'</li>
              <li>výchozí nastavení je 'cs'</li>
            </ul>
          </td>
        </tr>
        <tr id="baseMap">
          <td class="param-name">baseMap</td>
          <td class="param-type">string | undefined</td>
          <td class="param-desc">
            <ul>
              <li>podkladová mapa</li>
              <li>možné hodnoty jsou 'osm' pro barevnou OpenStreetMapu a 'osm-bw' pro její černobílou verzi</li>
              <li>výchozí nastavení je 'osm-bw'</li>
            </ul>
            <div class="warning">
              <p>v prohlížečích Internet Explorer (mimo Edge) je podkladová mapa zobrazena vždy barevně nezávisle na hodnotě parametru baseMap</p>
            </div>
          </td>
        </tr>
      </table>
      <h3>Výstup</h3>
      <p><a href="https://google.github.io/closure-library/api/goog.Promise.html" target="_blank">goog.Promise</a>&lt;<a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.Map.html" target="_blank">ol.Map</a>&gt;</p>
    </div>
    <div class="separator"></div>
    <div class="content">
      <h2 id="reset">Funkce munimap.reset</h2>
      <p>Přenastaví zadané parametry mapy na nové hodnoty, ostatní parametry nastaví na výchozí hodnoty.</p>
      <h3>Specifikace</h3>
      <p class="specification">munimap.reset(map: <a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.Map.html" target="_blank">ol.Map</a>, options: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>): <a href="https://google.github.io/closure-library/api/goog.Promise.html" target="_blank">goog.Promise</a>&lt;<a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.Map.html" target="_blank">ol.Map</a>&gt;</p>
      <h3>Vstup</h3>
      <p>
        Již existující mapa vytvořená pomocí funkce <a href="#create">munimap.create</a> a 
        objekt s parametry, které mají být přenastaveny. Oproti funkci munimap.create
        nejsou potřeba parametry target a lang, jelikož ty jsou definovány pro původní mapu.
      </p>
      <table>
        <tr>
          <th class="param-name">Název parametru</th>
          <th class="param-type">Typ</th>
          <th>Popis</th>
        </tr>
        <tr>
          <td class="param-name">markers</td>
          <td class="param-type">Array.&lt;string&gt; | undefined</td>
          <td class="param-desc">
            <ul>
              <li>pole polohových kódů budov, nebo polohových kódů místností, které mají být v mapě zvýrazněny</li>
              <li>v polohových kódech je možné využít zástupného znaku '_'</li>
              <li>není-li parametr zadán, nic se v mapě nezvýrazní</li>
            </ul>
            <div class="hint">
              <p>pro zjištění polohových kódů budov či místností lze použít aplikaci <a href='https://kompas.muni.cz/'>Kompas</a></p>
            </div>
          </td>
        </tr>
        <tr>
          <td class="param-name">markerLabel</td>
          <td class="param-type">function((<a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.Feature.html" target="_blank">ol.Feature</a> | <a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.render.Feature.html" target="_blank">ol.render.Feature</a>), number): (string | null | undefined) | undefined</td>
          <td class="param-desc">
            <ul>
              <li>funkce pro pro úpravu textu popisků zvýrazněných budov či místností</li>
              <li>první parametr je objekt, pro který funkce vrací popisek, druhý parametr je <a href='http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.View.html'>rozlišení mapy (resolution)</a>; aplikace tedy může ukazovat různé popisky jednoho objektu pro různé úrovně přiblížení</li>
              <li>není-li funkce zadána, zobrazí se stejný text popisku jako v případě, kdy budova či místnost nejsou označeny</li>
            </ul>
            <div class="hint">
              <p>pro rozlišení jednotlivých zvýrazněných budov či místností lze využít jejich polohový kód, který ve funkci získáte pomocí <span class="command">feature.get(<span class="value">'polohKod'</span>)</span></p>
            </div>
            <div class="experimental">
              <p>experimentální funkcionalita</p>
            </div>
          </td>
        </tr>
        <tr>
          <td class="param-name">zoomTo</td>
          <td class="param-type">Array.&lt;string&gt; | string | undefined</td>
          <td class="param-desc">
            <ul>
              <li>pole polohových kódů budov, nebo polohových kódů místností, na které se má mapa zazoomovat</li>
              <li>v polohových kódech je možné využít zástupného znaku '_'</li>
              <li>není-li parametr zadán a současně je zadán parametr markers, převezme hodnotu tohoto parametru</li>
            </ul>
            <div class="hint">
              <p>pro zjištění polohových kódů budov či místností lze použít aplikaci <a href='https://kompas.muni.cz/'>Kompas</a></p>
            </div>
          </td>
        </tr>
        <tr>
          <td class="param-name">zoom</td>
          <td class="param-type">number | undefined</td>
          <td class="param-desc">
            <ul>
              <li>výchozí zoom mapy</li>
              <li>není-li zadán, je dopočítán podle zoomTo, případně se zobrazí celé Brno</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td class="param-name">center</td>
          <td class="param-type"><a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.html#.Coordinate" target="_blank">ol.Coordinate</a> | undefined</td>
          <td class="param-desc">
            <ul>
              <li>výchozí střed mapy v zeměpisné šířce a délce (<a href="http://spatialreference.org/ref/epsg/wgs-84/" target="_blank">EPSG:4326</a>)</li>
              <li>není-li zadán, je dopočítán podle zoomTo, případně se zobrazí celé Brno</li>
            </ul>
          </td>
        </tr>
      </table>
      <h3>Výstup</h3>
      <p><a href="https://google.github.io/closure-library/api/goog.Promise.html" target="_blank">goog.Promise</a>&lt;<a href="http://openlayers.org/en/{jpad.olVersion}/apidoc/ol.Map.html" target="_blank">ol.Map</a>&gt;</p>
    </div>
    <div class="navigation bottom">
      <div>
        <a href="../"><span class="munimap-logo"><span class="muni">muni</span><span class="map">map</span></span></a> &gt; <span>popis rozhraní</span>
      </div>
    </div>
    <div class="footer">
      <div class="left">
        Kontakt: <a href="mailto:gishelp%40ics.muni.cz">gishelp&#064;ics.muni.cz</a>
      </div>
      <div class="right">
        &copy; <a href="http://www.ics.muni.cz/" target="_blank">Ústav výpočetní techniky MU</a>
      </div>
    </div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-43867643-3', 'maps.muni.cz');
      ga('send', 'pageview');
    
    </script>        
  </body>
</html>
